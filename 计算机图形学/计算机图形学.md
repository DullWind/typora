计算机图形学

### 向量

1. a,b两个向量点乘，如果大于0，则表示同方向。如果小于0，代表反方向。值越接近1，方向约接近。
2. a,b两个向量叉乘，会得到垂直于a,b这个平面的法向量。（不满足交换律）

![image-20210926211955831](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210926211955831.png)

可以通过判断向量ap,ab。bp,bc。ca,cp。叉乘的值，来判断p点在三角内还是三角形外。

3. 向量的乘积可以写成矩阵的形式。

### 矩阵（Matrix）

1. 基础知识
	
   - $$
	  (M * N)(N * P) = (M * P)
	  $$
	
	- 有个记法，需要第几行第几列（结果矩阵），就去找第几行（第一个矩阵）第几列（第二个矩阵）

   - 矩阵没有交换律

	- 矩阵的转置（即行，列互换。）
	- $$
	(MN)^T = N^TM^T
	$$
	
2. 二维矩阵

   - 缩放（scale）


   ![image-20210930133004923](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930133004923.png)

   - 切变（shear）

   ![image-20210930133423842](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930133423842.png)

   - 旋转（rotation）

     ![image-20210930133557470](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\image-20210930133557470.png)

   ![image-20210930133557470](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930133557470.png)

   - 齐次坐标（为了用矩阵的形式去表示平移）

     ![image-20210930134129653](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930134129653.png)

   - 仿射变换（线性变换+平移 ）

   - 引入齐次坐标后的变换矩阵

     ![image-20210930134712696](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930134712696.png)

- 三维矩阵

   - 表示

     ![image-20210930135405711](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930135405711.png)

   - 缩放和平移

   ![image-20210930135906010](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930135906010.png)

   - 旋转

   ![image-20210930135944475](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930135944475.png)

- 绕任意轴旋转 

  - ![image-20211006174146923](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006174146923.png)



## MVP（模型，视图，投影）

### 视图变换

1. 将视口坐标移动到正确位置。以-z为正方向

   - 在视口移动过程中，先进行平移再进行旋转

   ![image-20210930140713674](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930140713674.png)

   ![image-20211006135853067](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006135853067.png)

   

2. 模型，视图变换，其实最后都是应用到模型上

### 投影

1. 正交投影（将物体移动到一个标准立方体中2* 2 * 2）
   - ![image-20210930143704093](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20210930143704093.png)
   
2. 透视投影
   - 先变为一个长方形，然后再进行正交投影,变化为长方形的矩阵↓
   
   - ![image-20211006170518012](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006170518012.png)
   
   - $$
     \left\{
      \begin{matrix}
        n & 0 & 0 & 0 \\
        0 & n & 0 & 0 \\
        0 & 0 & n + f & -nf \\
        0 & 0 & 1 & 0
       \end{matrix}
       \right\}
     $$
   
3. field-of-view(视角) 和 aspect ratio(宽高比)

   - ![image-20211006143849804](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006143849804.png)

### 视口变换 

将1，1，1 标准立方体里的画面缩放到屏幕大小。

![image-20211006141142937](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006141142937.png)



## 光栅化（Rasterization）

### 屏幕

1. 可以将屏幕看作一个二维数组（里面存储的是像素）

 ### 采样

1. 将一个函数离散化的过程（重复一个原始信号的频谱）

### 光栅化一个三角形

1. 对三角形进行采样一个inside函数（用来判断是否在三角形内）

   - 写一个二重循环，判断点是否在三角形内（方法可见上面）。

   - 二重循环的范围是三角形的包围盒（x > P0.x && x < P1.x ）(y > P0.y && y < P2.y)

     ![image-20211006142624690](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006142624690.png)

   - 另一种方法是每行一个包围盒

     - ![image-20211006142950162](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006142950162.png)



# 走样（aliasing）

### 知识点

1. 傅里叶级数展开：一切函数都可以用正弦和余弦的叠加来表示

2. 傅里叶变换：一切函数都可以用一个复杂的变换变为另一个函数，变回来的过程称为逆傅里叶展开。

3. 走样定义：同样一种方法采样两种不同的函数，得到的是同一种采样结果。

4. 滤波（Filtering）：删掉一些特定的频率。

5. 时域和频域：时域（一张图？）↓，频域（中间是低频，周围是高频）↓

   - 傅里叶变换可以让我们看到不同的图像的频谱

   - ![image-20211006205313868](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006205313868.png)

6. 高频滤波：只有高频信号能通过的滤波。

7. 滤波=平均=卷积（Convolution）。任意一个数都取周围数的平均。（图形学上简化的定义）

   1. 时域上的卷积等于频域上的乘积。
   2. ![image-20211006210335409](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006210335409.png)

8. 采样：采样就是重复一个信号的频谱。 

   - ![image-20211006211609461](C:\Users\wuyuzhen02\Desktop\typora\计算机图形学\图片\image-20211006211609461.png)

### 解决

1. 先模糊再采样
   1. MSAA：（这是一个模糊操作）将一个像素点拆分成更多的采样点（并不是增加采样率），然后判断哪些点在三角形内，哪些点在三角形外。然后进行颜色的处理。
2. 增加采样率
3. FXAA:(Fast Approximate AA）得到图片后再进行抗锯齿操作。通过图像匹配找到边界，然后进行处理。在图像层面上进行抗锯齿。（这是通过智能算法来找出边界）

# 着色（shading）

### 知识点

1. 定义：对不同物体应用不同材质
2. painter's Algorhm(画家算法),先画远处的再画近处的，层层覆盖。
3. 生成一张图片时会生成两个东西
   1. 深度缓存（Z-Buffer）
   2. 图片缓存（frame Buffer) 最后看到的成品图
   3. （越近的越黑，可以理解为rgb值，越小越黑）![image-20211222203355423](https://gitee.com/MeguminMO/drawing-bed/raw/master//typora/202112222033229.png)

### 着色模型

1. 布林·冯模型
   1. ![image-20211222210200017](https://gitee.com/MeguminMO/drawing-bed/raw/master//typora/202112222102118.png)
   2. 着色不考虑阴影（shading ~= shadow)
   3. 漫反射![image-20211222210922530](https://gitee.com/MeguminMO/drawing-bed/raw/master//typora/202112222109269.png)![image-20211222211301739](https://gitee.com/MeguminMO/drawing-bed/raw/master//typora/202112222113373.png)





